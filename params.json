{"name":"Odysseus-windows-32-64","tagline":"Setup autoinstall test","body":"Odysseus\r\n\r\nWARNING: do not do it, unless you have read and understood these instructions.\r\nIf *anything* goes wrong during the restore process, you will have to restore\r\nto the latest, most likely unjailbreakable firmware.  Basically, you are on\r\nyour own.  I will not be held responsible for anything YOU do.\r\n\r\nThis works only on certain jailbroken 32bit devices.  By that, I mean devices\r\nI have keys for.  Also, this will *not* change your baseband.  If you go too\r\nfar up/down with iOS version, it may be that the main OS doesn't understand\r\nthe baseband anymore.  If that happens, you won't get past activation and\r\nyou cannot re-jailbreak the device.  As a consequence, the device will remain\r\nin activation limbo and you'll have to restore.\r\n\r\nThe untether on your device must have tfp0 enabled.  Early versions of Pangu\r\ndid not enable tfp0, but latest versions of Pangu, TaiG and evasi0n all have\r\ntfp0 activated.\r\n\r\nYou need to have the valid ticket/blob for the desired firmware.  To validate\r\nthe ticket/blob against the desired firmware, you have to:\r\n    a) download desired firmware:\r\n        computer$ curl -O http://path/to/desired.ipsw\r\n    b) convert your precious.shsh to xml:\r\n        computer$ cat precious.shsh | zcat -fc > precious.plist\r\n        computer$ plutil -convert xml1 precious.plist\r\n    c) validate the ticket/blob:\r\n        computer$ ./validate precious.plist desired.ipsw -z\r\nIf you see any ERROR message, then your ticket/blob is probably screwed and you\r\nshould NOT attempt to downgrade.\r\n\r\nInstall OpenSSH and Core Utilities (coreutils) on the device, using Cydia or\r\nwhatever app store is the rage these days.\r\n\r\nSave your baseband (enter your device root password, default is alpine):\r\n        computer$ ./sshtool -s baseband.tar -p 22 device_ip_or_name\r\nIt's ok if baseband.tar is a zero sized file if you have an Infineon baseband\r\n(that is, <= iPhone4) but for Qualcomm (that is >= iPhone4S), your device must\r\nhave the baseband on main filesystem.  In this case, any error or empty archive\r\nmeans trouble.\r\n\r\nBuild the custom firmware.  This will take a while.  The -memory parameter is\r\noptional.  Use it only if your machine has sufficient physical memory (>=4GB).\r\nMake sure you have the right bundle in FirmwareBundles/.  If the bundle is not\r\nthere, ask for it.\r\n        computer$ ./ipsw desired.ipsw custom.ipsw -memory baseband.tar\r\nor\r\n        computer$ ./ipsw desired.ipsw custom.ipsw -memory baseband.tar jb.tar ssh.tar\r\nThe latter is meant to save your device if there's a baseband mismatch.  Do NOT\r\nattempt to install Cydia (jailbreak or otherwise) over it even if signal works.\r\nIts sole purpose is to allow you to re-downgrade to a different iOS version.\r\nIf the ipsw creation fails, try increasing rootfs with `-s' or `-S' options.\r\n\r\nExtract back the pwned iBSS from the custom-built firmware:\r\n        computer$ ./xpwntool `unzip -j custom.ipsw 'Firmware/dfu/iBSS*' | awk '/inflating/{print $2}'` pwnediBSS\r\n\r\nKickstart the pwned restore (enter your device root password):\r\n        computer$ ./sshtool -k ../kloader -b pwnediBSS -p 22 device_ip_or_name\r\n\r\nWait for the device to enter DFU.  Do NOT press any button.  Just plug/unplug\r\nit, until it is seen as DFU.  If it does not appear, do a cold boot by holding\r\nboth Home and Power button until the Apple logo appears and then repeat the\r\nprevious step.  Kill iTunes before continuing.  You may want to disable iTunes\r\nHelper by removing it from System Preferences -> Users & Groups -> Login Items\r\nor simply kill it:\r\n        computer$ killall iTunesHelper\r\n\r\nRestore the custom firmware.  Make sure you have your precious ticket/blob file\r\ncopied as shsh/ECID-DEVICE-VERSION.shsh before starting.  For example, the shsh\r\nfile can be 2144637826347-iPad3,1-7.1.2.shsh.  Please note that you may need to\r\nbe root to access USB:\r\n        computer# ./idevicerestore -d -w custom.ipsw\r\n\r\nEnjoy!\r\n\r\nIn theory, the last step can be replaced by starting TinyUmbrella and doing the\r\nrestore via iTunes, but I have not tested it that way (and most probably, you'd\r\nhave to downgrade iTunes).\r\n\r\nCredits:\r\n@planetbeing, dborca for the awesome xpwn\r\n@winocm for ios-kexec-utils\r\n@westbaer, p0sixninja, iH8sn0w, GreySyntax for irecovery\r\n@libimobiledevice people for libimobiledevice\r\n@iH8sn0w for some ideas and code\r\n@iH8sn0w, SquiffyPwn, winocm for p0sixspwn\r\n@daytonhasty for some ideas, testing and writeup\r\n@JonathanSeals for some ideas\r\n@tihmstar, CPVideoMaker, SashaKirichenko for testing\r\n@citrusui for the cool name\r\n\r\n-xerub","google":"odysseus,windows,test,downgrade,beta,elrhk,devjam,youtube,ios,","note":"Don't delete this file! It's used internally to help with page regeneration."}